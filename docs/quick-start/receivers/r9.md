---
template: main.html
---

![Setup-Banner](https://raw.githubusercontent.com/ExpressLRS/ExpressLRS-hardware/master/img/quick-start.png)

## Bootloaders

The R9Mini/R9MM, R9MX and R9Slim+ require ExpressLRS Bootloaders to be flashed before the ExpressLRS firmware. The R9Slim doesn't have a bootloader and first time flash requires STLink.

Download the bootloader `.frk` file for your respective receiver. The files are as follows:

- R9mm/mini: [`r9mm_elrs_bl.frk`](https://github.com/AlessandroAU/ExpressLRS/blob/master/src/bootloader/r9mm_elrs_bl.frk?raw=true) (14kb) or [`r9mm_no_btn_elrs_bl.frk`](https://github.com/ExpressLRS/ExpressLRS/raw/master/src/bootloader/r9mm_no_btn_elrs_bl.frk?raw=true) (14kb) (no_btn bootloader is only used if your bind/boot button on the receiver is faulty or has gone bad.)
- R9mx: [`r9mx_elrs_bl.frk`](https://github.com/ExpressLRS/ExpressLRS/blob/master/src/bootloader/r9mx_elrs_bl.frk?raw=true) (20kb)
- R9Slim+ (ACCST): [`r9slim_plus_elrs_bl.frk`](https://github.com/ExpressLRS/ExpressLRS/blob/master/src/bootloader/r9slim_plus_elrs_bl.frk?raw=true) (14kb)
- R9Slim+ (ACCESS/OTA): [`r9slim_plus_ota_elrs_bl.frk`](https://github.com/ExpressLRS/ExpressLRS/blob/master/src/bootloader/r9slim_plus_ota_elrs_bl.frk?raw=true) (18kb)

Copy the relevant file to your handset's SD card (You can put it inside `/FIRMWARE` folder for easy access).

Wire the receiver to your radio's Smart Port, as shown:

<figure markdown>
![BL Flashing](../../assets/images/Bootloader-Flashing.jpg)
</figure>

Next, flash the `.frk` via the `S.port` flashing option in `OpenTX` or `EdgeTX` :zap: (It helps if the External RF module is set to `PPM` mode.) 

- Navigate in OpenTX to the TOOLS menu (hold SYS button)
- Press Page once to the SD-HC CARD page, then select the `FIRMWARE` folder
- Flash the frk file by holding OK/Enter and selecting "Flash external module"

Once done, unplug the receiver and your bootloader is flashed.

!!! info "FYI"
    You only need to flash the Bootloader ONCE. After it's flashed into the receiver, you **don't** have to reflash it in every update.

    R9Slim doesn't have a bootloader. As such, you need to flash it first via FTDI.

### Troubleshooting No Sync

- Setting the External RF module to `PPM` mode helps.
- Check if the receiver has its LED lit up or if it's powered.
- Check whether you've set your `Max Bauds` to `115200`, especially if you're using a **QX7** or an **X9D** (on OneBit Firmwares or EdgeTX). If so, put it back to 400k and try again.

## Wiring up your receiver

<figure markdown>
![FC Wiring](../../assets/images/FCWiringR9.jpg)
<figcaption>Wiring up receiver</figcaption>
</figure>

!!! attention "Note"
    This will be the same wiring you'll use for flying and the subsequent firmware updates (via Passthrough). Forget the factory wiring guide!

    R9Slim need to be flashed via STLink first before you [wire] it up to your Flight Controller.

## Configuring your Flight Controller

To configure your flight controller properly, please go through [Configure FC page](configuring-fc.md). These settings apply on INAV, Betaflight and other flight controller software.

Ports Tab should be setup so that Serial RX is on the UART where you have soldered the receiver.

Receiver protocol is `CRSF` with `serialrx_inverted = off` and `serialrx_halfduplex = off`.

The next step will not be able to proceed properly and you'll have issues later if any of these are set differently. Once you have configured your Flight Controller software, close its Configurator and unplug-replug the USB cable from the FC or your computer. This will refresh the connection and you'll be ensured that the port is not busy.

## Flashing Frsky R9

Following are the flashing methods for Frsky R9.

### <span class="custom-heading" data-id="1">Flashing via Passthrough (works with Betaflight, INAV)</span>

??? Note "Flashing via Passthrough (works with Betaflight, INAV)"

    - Targets:
        - `Frsky_RX_R9MM_R9MINI_via_BetaflightPassthrough`
        - `Frsky_RX_R9MX_via_BetaflightPassthrough`
        - `Frsky_RX_R9SLIM_via_BetaflightPassthrough`
        - `Frsky_RX_R9SLIMPLUS_via_BetaflightPassthrough`
        - `Frsky_RX_R9SLIMPLUS_OTA_via_BetaflightPassthrough`

    - Device Category: 
        - `Frsky R9`

    - Device:
        - `Frsky RX R9MM R9MINI`
        - `Frsky RX R9MX`
        - `Frsky RX R9SLIM` (If already flashed via STLink)
        - `Frsky RX R9SLIMPLUS`
        - `Frsky RX R9SLIMPLUS OTA`

    <figure markdown>
    ![via Passthrough](../../assets/images/Method_RX_Passthrough-stm.png)
    <figcaption>Flashing via Passthrough</figcaption>
    </figure>

    1. Before wiring your receiver to your flight controller, make sure the correct [bootloader] has been flashed to the receiver.
    2. Using the [wiring guide], find a free and uninverted UART on your flight controller. The wiring guide for a Crossfire or Ghost receiver can be used.
    3. Set up your flight controller for ExpressLRS by ensuring that Serial RX is set to the correct UART (RX & TX pair) under the Ports tab. Follow the [FC Configuration Guide] for further instructions.
    4. After configuring your flight controller, disconnect from the Betaflight or INAV configurator, close the configurator and unplug the USB to refresh the connection.
    5. Plug in the flight controller to USB. If the receiver powers up too, with both LEDs lit, disconnect USB, hold the bind button on the receiver, and reconnect to USB. The LED should start alternating between green and red. Once it is alternating, you can release the bind button.
    6. If the receiver does not power up from USB, have a LiPo ready. On the ExpressLRS Configurator, set your firmware options, then click on "Build & Flash". The first time, it may take a while. Keep an eye out for the "Passthrough Init" stage, which will check your flight controller configuration for the correct Serial RX UART (Software Inversion via "set serialrx_inverted" and Half Duplex mode via "set serialrx_halfduplex" will be checked; both should be off.)
        
        <figure markdown>
        ![Build & Flash]
        </figure>
    
    7. If "Retry..." lines appear, connect the LiPo to power up your flight controller and receiver.
    8. Wait until the flashing process is complete and the "Success" prompt is shown. On subsequent flashes, the LiPo can be plugged in and the receiver powered up before connecting the USB.

### <span class="custom-heading" data-id="2">Flashing via STLink</span>

??? Note "Flashing via STLink"

    !!! attention "Warning"
        R9Slim requires this as the first flashing method. This is irreversible, meaning you cannot put back Frsky firmware.

    - Targets:
        - `Frsky_RX_R9MM_R9MINI_via_STLINK`
        - `Frsky_RX_R9MX_via_STLINK`
        - `Frsky_RX_R9SLIM_via_STLINK`
        - `Frsky_RX_R9SLIMPLUS_via_STLINK`
        - `Frsky_RX_R9SLIMPLUS_OTA_via_STLINK`

    - Device Category: 
        - `Frsky R9`

    - Device:
        - `Frsky RX R9MM R9MINI`
        - `Frsky RX R9MX`
        - `Frsky RX R9SLIM`
        - `Frsky RX R9SLIMPLUS`
        - `Frsky RX R9SLIMPLUS OTA`

    <figure markdown>
    ![via STLink](../../assets/images/Method_RX_STLink-stm.png)
    <figcaption>Flashing via STLink</figcaption>
    </figure>

    !!! attention "Warning"
        This method is irreversible. It will remove the ability to reflash back to Frsky firmware. Make sure your STLink dongle is properly recognized by your System as such (Drivers are installed, etc.).

    1. Wire up the Receiver to your STLink using `3v3`, `GND`, `CLK` and `DIO`. 

        <figure markdown>
        ![r9mm_mini pinout](../../assets/images/r9mm_mini_pinout.png)
        <figcaption>R9Mini/R9MM<figcaption>
        </figure>

        <figure markdown>
        ![r9mx STLink connection](../../assets/images/r9mxstlink.png)
        <figcaption>R9MX<figcaption>
        </figure>

        <figure markdown>
        ![r9slim STLINK connection](../../assets/images/r9slim-stlink.jpg)
        <figcaption>R9Slim/R9Slim+<figcaption>
        </figure>

    2. Disable 'Readout Protection'. To do this download the [ST-LINK Utility](https://www.st.com/en/development-tools/stsw-link004.html) and follow this quick [how to video](https://youtu.be/SEYQ1HpRmk0). Or alternatively under linux you can use [OpenOCD](../../software/open-ocd.md). 

        How to video:

        <figure markdown>
        <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/SEYQ1HpRmk0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </figure>

    3. `Disconnect` from STLink Utility.
    4. Select the correct target and set [Firmware Options] using the ExpressLRS Configurator.
    5. **Build & Flash** the firmware using the ExpressLRS Configurator. 

        <figure markdown>
        ![Build & Flash]
        </figure>

    6. Once done, [Wire] your receiver properly with FC. Passthrough flashing can now be used for updating the receiver.

[Build & Flash]: ../../assets/images/BuildFlash.png
[Firmware Options]: ../firmware-options.md
[Wire]: #wiring-it-up
[bootloader]: #bootloaders
[FC Configuration Guide]: ./configuring-fc.md
[wiring guide]: #wiring-it-up

<script src="../../../assets/javascripts/admonition-enhancement.js"></script>